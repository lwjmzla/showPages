webpackJsonp([1],{175:function(t,s,n){n(248);var e=n(10)(n(202),n(262),"data-v-7e4e6790",null);t.exports=e.exports},176:function(t,s,n){n(245);var e=n(10)(n(203),n(259),"data-v-241f5fe8",null);t.exports=e.exports},178:function(t,s,n){"use strict";var e=n(27),a=n(263),o=n(176),i=n.n(o),r=n(175),c=n.n(r),l=n(257),u=n.n(l);e.a.use(a.a);var m=new a.a({routes:[{path:"/",name:"Login",component:i.a},{path:"/chatting",name:"Chatting",component:c.a},{path:"/AI",name:"AI",component:u.a}]});s.a=m},180:function(t,s,n){n(246);var e=n(10)(n(199),n(260),null,null);t.exports=e.exports},199:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=n(207),a=n.n(e),o=n(206),i=n.n(o),r=n(175),c=n.n(r),l=n(176),u=n.n(l);s.default={name:"app",components:{Chatting:c.a,Login:u.a},beforeCreate:function(){console.log("%c Powered by Zhaohui - microzz.com","background-image:-webkit-gradient( linear, left top,right top, color-stop(0, #00a419),color-stop(0.15, #f44336), color-stop(0.29, #ff4300),color-stop(0.3, #AA00FF),color-stop(0.4, #8BC34A), color-stop(0.45, #607D8B),color-stop(0.6, #4096EE), color-stop(0.75, #D50000),color-stop(0.9, #4096EE), color-stop(1, #FF1A00));color:transparent;-webkit-background-clip:text;font-size:13px;")},created:function(){var t=this;return i()(a.a.mark(function s(){var n,e,o;return a.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return localStorage.addr="未知",n="bb9afbba667fd0deb80ea7faea3f1c5f",s.next=4,t.axios.get("http://cp-tools.cn/geo/getPosition?sign="+n);case 4:e=s.sent,o=e.data,o.province.length&&(localStorage.addr=o.province+o.city);case 7:case"end":return s.stop()}},s,t)}))()}}},200:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={name:"about",data:function(){return{isHover:!1}},computed:{isShowAbout:function(){return this.$store.state.isShowAbout}},methods:{showAbout:function(){this.$store.commit("showAbout",!1)}}}},201:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=n(33),a=n.n(e);s.default={name:"chatting",data:function(){return{msgs:localStorage.msgs_ai&&JSON.parse(localStorage.msgs_ai)||[],inputContent:"",oContent:{}}},watch:{msgs:function(t){localStorage.msgs_ai=a()(t)}},computed:{name:function(){return this.$store.state.name},avatarUrl:function(){return this.$store.state.avatarUrl}},beforeRouteEnter:function(t,s,n){localStorage.name?n():n("/")},mounted:function(){var t=this;this.oContent=document.getElementById("chattingContent"),setTimeout(function(){t.$refs.chattingContent.scrollTop=t.$refs.chattingContent.scrollHeight},0)},methods:{send:function(){var t=this;this.oContent.scrollTop=this.oContent.scrollHeight,""!==this.inputContent&&(this.msgs.push({date:this.moment().format("MM-DD HH:mm:ss"),loc:localStorage.addr,from:""+localStorage.name,content:this.inputContent,self:!0,avatarUrl:this.avatarUrl}),setTimeout(function(){t.$refs.chattingContent.scrollTop=t.$refs.chattingContent.scrollHeight},0),this.axios.get("https://zhaoplus.com/api/AI?search="+this.inputContent+"&userid="+(localStorage.name+localStorage.addr)+"&loc="+localStorage.addr).then(function(s){t.msgs.push({date:t.moment().format("MM-DD HH:mm:ss"),from:"智能机器人",content:s.data.result.text,self:!1,avatarUrl:"http://omratag7g.bkt.clouddn.com/icon-ai.svg"})}).then(function(){t.$refs.chattingContent.scrollTop=t.$refs.chattingContent.scrollHeight}),this.inputContent="")}}}},202:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=n(33),a=n.n(e);s.default={name:"chatting",data:function(){return{msgs:localStorage.msgs_group&&JSON.parse(localStorage.msgs_group)||[],inputContent:"",oContent:{},oTextarea:{},isShowEmoji:!1,isRedAI:!1}},watch:{msgs:function(t){localStorage.msgs_group=a()(t)}},computed:{name:function(){return this.$store.state.name},avatarUrl:function(){return this.$store.state.avatarUrl}},beforeRouteEnter:function(t,s,n){localStorage.name?n():n("/")},mounted:function(){var t=this;this.oContent=document.querySelector(".chatting-content"),this.oContent.scrollTop=this.oContent.scrollHeight,this.oTextarea=document.querySelector("textarea"),socket.emit("online",this.$store.state.name),socket.on("online",function(s){if(s){var n=document.createElement("div");n.className="online",n.innerText=s+"上线了",t.oContent.appendChild(n),t.oContent.scrollTop=t.oContent.scrollHeight}}),socket.on("receiveGroupMsg",function(s){console.log(s),t.msgs.push(s),setTimeout(function(){t.oContent.scrollTop=t.oContent.scrollHeight},0)})},methods:{send:function(){var t=this;this.isShowEmoji=!1,""!==this.inputContent&&(socket.emit("sendGroupMsg",{date:this.moment().format("YYYY-MM-DD HH:mm:ss"),loc:localStorage.addr,from:""+localStorage.name,content:this.inputContent,avatarUrl:this.avatarUrl}),console.log(localStorage.addr),this.msgs.push({date:this.moment().format("YYYY-MM-DD HH:mm:ss"),loc:localStorage.addr,from:""+localStorage.name,content:this.inputContent,self:!0,avatarUrl:this.avatarUrl}),this.inputContent="",setTimeout(function(){return t.oContent.scrollTop=t.oContent.scrollHeight},0))},showEmoji:function(t){this.isShowEmoji=t},newLine:function(){}}}},203:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=n(256),a=n.n(e);s.default={name:"login",components:{About:a.a},data:function(){return{name:""}},computed:{},methods:{login:function(){""!==this.name&&(this.$store.commit("changeName",this.name),localStorage.name=this.name,this.$router.push("Chatting"))}}}},204:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=n(27),a=n(180),o=n.n(a),i=n(178),r=n(0),c=n.n(r),l=n(181),u=n(177),m=n.n(u),v=n(179),d=n.n(v);c.a.locale("zh-cn"),e.a.prototype.moment=c.a,e.a.prototype.random=function(t){return Math.floor(t*Math.random())},e.a.use(l.a),e.a.use(d.a,m.a);var h=new l.a.Store({state:{name:"",avatarUrl:"http://p.qpic.cn/music_cover/JqedGFGJsxS0zcnIkPtxO7qeD6KCegms5PHq4PH1iaiaBsId25kiachlA/600?n=1",addr:"未知",isShowAbout:!1},mutations:{changeName:function(t,s){t.name=s},setAddr:function(t,s){t.addr=s},showAbout:function(t,s){t.isShowAbout=s}}});e.a.config.productionTip=!1,new e.a({el:"#app",router:i.a,store:h,template:"<App/>",components:{App:o.a}})},244:function(t,s){},245:function(t,s){},246:function(t,s){},247:function(t,s){},248:function(t,s){},250:function(t,s,n){function e(t){return n(a(t))}function a(t){var s=o[t];if(!(s+1))throw new Error("Cannot find module '"+t+"'.");return s}var o={"./af":47,"./af.js":47,"./ar":54,"./ar-dz":48,"./ar-dz.js":48,"./ar-kw":49,"./ar-kw.js":49,"./ar-ly":50,"./ar-ly.js":50,"./ar-ma":51,"./ar-ma.js":51,"./ar-sa":52,"./ar-sa.js":52,"./ar-tn":53,"./ar-tn.js":53,"./ar.js":54,"./az":55,"./az.js":55,"./be":56,"./be.js":56,"./bg":57,"./bg.js":57,"./bm":58,"./bm.js":58,"./bn":59,"./bn.js":59,"./bo":60,"./bo.js":60,"./br":61,"./br.js":61,"./bs":62,"./bs.js":62,"./ca":63,"./ca.js":63,"./cs":64,"./cs.js":64,"./cv":65,"./cv.js":65,"./cy":66,"./cy.js":66,"./da":67,"./da.js":67,"./de":70,"./de-at":68,"./de-at.js":68,"./de-ch":69,"./de-ch.js":69,"./de.js":70,"./dv":71,"./dv.js":71,"./el":72,"./el.js":72,"./en-SG":73,"./en-SG.js":73,"./en-au":74,"./en-au.js":74,"./en-ca":75,"./en-ca.js":75,"./en-gb":76,"./en-gb.js":76,"./en-ie":77,"./en-ie.js":77,"./en-il":78,"./en-il.js":78,"./en-nz":79,"./en-nz.js":79,"./eo":80,"./eo.js":80,"./es":83,"./es-do":81,"./es-do.js":81,"./es-us":82,"./es-us.js":82,"./es.js":83,"./et":84,"./et.js":84,"./eu":85,"./eu.js":85,"./fa":86,"./fa.js":86,"./fi":87,"./fi.js":87,"./fo":88,"./fo.js":88,"./fr":91,"./fr-ca":89,"./fr-ca.js":89,"./fr-ch":90,"./fr-ch.js":90,"./fr.js":91,"./fy":92,"./fy.js":92,"./ga":93,"./ga.js":93,"./gd":94,"./gd.js":94,"./gl":95,"./gl.js":95,"./gom-latn":96,"./gom-latn.js":96,"./gu":97,"./gu.js":97,"./he":98,"./he.js":98,"./hi":99,"./hi.js":99,"./hr":100,"./hr.js":100,"./hu":101,"./hu.js":101,"./hy-am":102,"./hy-am.js":102,"./id":103,"./id.js":103,"./is":104,"./is.js":104,"./it":106,"./it-ch":105,"./it-ch.js":105,"./it.js":106,"./ja":107,"./ja.js":107,"./jv":108,"./jv.js":108,"./ka":109,"./ka.js":109,"./kk":110,"./kk.js":110,"./km":111,"./km.js":111,"./kn":112,"./kn.js":112,"./ko":113,"./ko.js":113,"./ku":114,"./ku.js":114,"./ky":115,"./ky.js":115,"./lb":116,"./lb.js":116,"./lo":117,"./lo.js":117,"./lt":118,"./lt.js":118,"./lv":119,"./lv.js":119,"./me":120,"./me.js":120,"./mi":121,"./mi.js":121,"./mk":122,"./mk.js":122,"./ml":123,"./ml.js":123,"./mn":124,"./mn.js":124,"./mr":125,"./mr.js":125,"./ms":127,"./ms-my":126,"./ms-my.js":126,"./ms.js":127,"./mt":128,"./mt.js":128,"./my":129,"./my.js":129,"./nb":130,"./nb.js":130,"./ne":131,"./ne.js":131,"./nl":133,"./nl-be":132,"./nl-be.js":132,"./nl.js":133,"./nn":134,"./nn.js":134,"./pa-in":135,"./pa-in.js":135,"./pl":136,"./pl.js":136,"./pt":138,"./pt-br":137,"./pt-br.js":137,"./pt.js":138,"./ro":139,"./ro.js":139,"./ru":140,"./ru.js":140,"./sd":141,"./sd.js":141,"./se":142,"./se.js":142,"./si":143,"./si.js":143,"./sk":144,"./sk.js":144,"./sl":145,"./sl.js":145,"./sq":146,"./sq.js":146,"./sr":148,"./sr-cyrl":147,"./sr-cyrl.js":147,"./sr.js":148,"./ss":149,"./ss.js":149,"./sv":150,"./sv.js":150,"./sw":151,"./sw.js":151,"./ta":152,"./ta.js":152,"./te":153,"./te.js":153,"./tet":154,"./tet.js":154,"./tg":155,"./tg.js":155,"./th":156,"./th.js":156,"./tl-ph":157,"./tl-ph.js":157,"./tlh":158,"./tlh.js":158,"./tr":159,"./tr.js":159,"./tzl":160,"./tzl.js":160,"./tzm":162,"./tzm-latn":161,"./tzm-latn.js":161,"./tzm.js":162,"./ug-cn":163,"./ug-cn.js":163,"./uk":164,"./uk.js":164,"./ur":165,"./ur.js":165,"./uz":167,"./uz-latn":166,"./uz-latn.js":166,"./uz.js":167,"./vi":168,"./vi.js":168,"./x-pseudo":169,"./x-pseudo.js":169,"./yo":170,"./yo.js":170,"./zh-cn":171,"./zh-cn.js":171,"./zh-hk":172,"./zh-hk.js":172,"./zh-tw":173,"./zh-tw.js":173};e.keys=function(){return Object.keys(o)},e.resolve=a,t.exports=e,e.id=250},255:function(t,s,n){t.exports=n.p+"static/img/help.f1f3932.png"},256:function(t,s,n){n(244);var e=n(10)(n(200),n(258),"data-v-04afad58",null);t.exports=e.exports},257:function(t,s,n){n(247);var e=n(10)(n(201),n(261),"data-v-75c40f0c",null);t.exports=e.exports},258:function(t,s,n){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{name:"showAbout"}},[e("div",{staticClass:"about"},[e("i",{staticClass:"close",on:{click:t.showAbout}}),t._v(" "),e("div",{staticClass:"about-content"},[e("h1",[t._v("关于")]),t._v(" "),e("h2",[t._v("Vue.js+Socket.io打造一个智能聊天室")]),t._v(" "),e("p",{staticClass:"skill"},[e("b",[t._v("技术栈")]),t._v("：")]),t._v(" "),e("div",[t._v("Vue2(页面构建+数据驱动)"),e("br"),t._v("Socket.io(实时通信)"),e("br"),t._v("Vuex(不同组件状态共享)"),e("br"),t._v("vue-router(路由)"),e("br"),t._v("axios(发起http请求)"),e("br"),t._v("SASS(SCSS)"),e("br"),t._v("Express(上线版本是Koa2)"),e("br"),t._v("Webpack(自动化构建)"),e("br"),t._v("Moment.js(时间处理)"),e("br"),t._v("ES6(贯穿全部)"),e("br"),t._v("localStorage(HTML5)"),e("br"),t._v("CSS3(动画及样式)")]),t._v(" "),e("p",{staticClass:"url"},[e("b",[t._v("GitHub")]),t._v("："),e("a",{class:{hover:t.isHover},attrs:{href:"https://github.com/microzz/",target:"_blank"},on:{touchstart:function(s){t.isHover=!0},touchEnd:function(s){t.isHover=!1}}},[t._v("GitHub")])]),t._v(" "),e("p",{staticClass:"url"},[e("b",[t._v("个人网站")]),t._v("："),e("a",{class:{hover:t.isHover},attrs:{href:"https://microzz.com/",target:"_blank"},on:{touchstart:function(s){t.isHover=!0},touchEnd:function(s){t.isHover=!1}}},[t._v("microzz")])]),t._v(" "),e("p",[e("br"),t._v("   待业码农，求工作～～如果你觉得该项目不错，还可以请我吃辣条😄↓↓↓")]),t._v(" "),e("div",{staticClass:"help"},[e("img",{attrs:{src:n(255),alt:"microzz.com"}})]),t._v(" "),e("p",{staticClass:"copyright"},[e("b",[t._v("【声明】")]),t._v("：本项目仅供学习交流使用，请不要用作任何商业用途。有任何疑问请联系作者↓ "),e("br"),t._v("📩："),e("a",{attrs:{href:"mailto:zhaohui@microzz.com"}},[t._v("zhaohui@microzz.com")])])]),t._v(" "),e("div",{staticClass:"mask",on:{click:t.showAbout}})])])},staticRenderFns:[]}},259:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("transition",{attrs:{name:"slide-top"}},[n("div",{staticClass:"login"},[n("i",{staticClass:"icon-chat"}),t._v(" "),n("h2",[t._v("请输入您的名字")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],attrs:{type:"text",autofocus:""},domProps:{value:t.name},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.login(s)},input:function(s){s.target.composing||(t.name=s.target.value.trim())},blur:function(s){return t.$forceUpdate()}}})])])},staticRenderFns:[]}},260:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},261:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("transition",{attrs:{name:"slide-right"}},[n("div",{staticClass:"chatting"},[n("div",{staticClass:"chatting-header"},[n("div",{staticClass:"chatting-back"},[n("i",{staticClass:"icon-back",on:{click:function(s){return t.$router.push("/chatting")}}})]),t._v(" "),n("div",{staticClass:"chatting-title"},[n("h2",[t._v("AI 智能机器人")])]),t._v(" "),n("div",{staticClass:"chatting-menu"},[n("i",{staticClass:"icon-menu",on:{click:function(s){return t.$router.push("/")}}})])]),t._v(" "),n("div",{ref:"chattingContent",staticClass:"chatting-content",attrs:{id:"chattingContent"}},t._l(t.msgs,function(s){return n("div",[s.self?n("div",{staticClass:"chatting-item self clearfix"},[n("div",{staticClass:"msg-date"},[t._v("\n            "+t._s(s.date)+"\n          ")]),t._v(" "),n("div",{staticClass:"msg-from"},[n("span",{staticClass:"loc"},[t._v("["+t._s(s.loc)+"]")]),t._v(" "),n("span",{staticClass:"msg-author"},[t._v(t._s(s.from))]),t._v(" "),n("img",{attrs:{src:s.avatarUrl,alt:""}})]),t._v(" "),n("div",{staticClass:"msg-content"},[t._v(t._s(s.content))])]):n("div",{staticClass:"chatting-item other clearfix"},[n("div",{staticClass:"msg-date"},[t._v("\n            "+t._s(s.date)+"\n          ")]),t._v(" "),n("div",{staticClass:"msg-from"},[n("img",{attrs:{src:s.avatarUrl,alt:""}}),t._v(" "),n("span",{staticClass:"msg-author"},[t._v(t._s(s.from))])]),t._v(" "),n("div",{staticClass:"msg-content"},[t._v(t._s(s.content))])])])}),0),t._v(" "),n("div",{staticClass:"chatting-input"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputContent,expression:"inputContent",modifiers:{trim:!0}}],attrs:{placeholder:"与智能机器人聊些啥"},domProps:{value:t.inputContent},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.send(s)},input:function(s){s.target.composing||(t.inputContent=s.target.value.trim())},blur:function(s){return t.$forceUpdate()}}}),t._v(" "),n("button",{on:{click:t.send}},[t._v("发送")])])])])},staticRenderFns:[]}},262:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("transition",{attrs:{name:"slide-left"}},[n("div",{staticClass:"chatting"},[n("div",{staticClass:"chatting-header"},[n("div",{staticClass:"chatting-back"}),t._v(" "),n("div",{staticClass:"chatting-title"},[n("h2",[n("i",{staticClass:"icon-group"}),t._v("群聊")])]),t._v(" "),n("div",{staticClass:"chatting-menu"},[n("i",{staticClass:"icon-menu",on:{click:function(s){return t.$router.push("/")}}})])]),t._v(" "),n("div",{ref:"chattingContent",staticClass:"chatting-content",on:{click:function(s){s.stopPropagation(),s.preventDefault(),t.isShowEmoji=!1}}},t._l(t.msgs,function(s){return n("div",[s.self?n("div",{staticClass:"chatting-item self clearfix"},[n("div",{staticClass:"msg-date"},[t._v("\n            "+t._s(s.date)+"\n          ")]),t._v(" "),n("div",{staticClass:"msg-from"},[n("span",{staticClass:"loc"},[t._v("["+t._s(s.loc)+"]")]),t._v(" "),n("span",{staticClass:"msg-author"},[t._v(t._s(s.from))]),t._v(" "),n("img",{attrs:{src:s.avatarUrl,alt:""}})]),t._v(" "),n("div",{staticClass:"msg-content"},[t._v(t._s(s.content))])]):n("div",{staticClass:"chatting-item other clearfix"},[n("div",{staticClass:"msg-date"},[t._v("\n            "+t._s(s.date)+"\n          ")]),t._v(" "),n("div",{staticClass:"msg-from"},[n("img",{attrs:{src:s.avatarUrl,alt:""}}),t._v(" "),n("span",{staticClass:"loc"},[t._v("["+t._s(s.loc)+"]")]),t._v(" "),n("span",{staticClass:"msg-author"},[t._v(t._s(s.from))])]),t._v(" "),n("div",{staticClass:"msg-content"},[t._v(t._s(s.content))])])])}),0),t._v(" "),n("div",{staticClass:"chatting-input"},[n("div",{staticClass:"emoji"},[n("i",{staticClass:"icon-emoji"})]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputContent,expression:"inputContent",modifiers:{trim:!0}}],ref:"textarea",attrs:{placeholder:"左上角还有智能机器人哦"},domProps:{value:t.inputContent},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.send(s)},input:[function(s){s.target.composing||(t.inputContent=s.target.value.trim())},t.newLine],blur:function(s){return t.$forceUpdate()}}}),t._v(" "),n("button",{on:{click:t.send}},[t._v("发送")])])])])},staticRenderFns:[]}}},[204]);
//# sourceMappingURL=app.f240bcd25ff973547832.js.map